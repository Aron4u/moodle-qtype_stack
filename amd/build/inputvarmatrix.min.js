define(["jquery","core/ajax","core/event"],function(t,i,a,r){"use strict";return{setupVarmatrix:function(i){t('[id="varmatrixinput'+i+'"]').keyup(function(){var a=t('[id="varmatrixinput'+i+'"]').html().trim().replace(/&nbsp;/g," ").split("<br>").filter(Boolean);a=a.map(t=>t.split(/[\t\ ,;]/).filter(Boolean));var r=Math.max.apply(null,a.map(t=>t.length));a="matrix("+(a=(a=a.map(t=>t.concat(Array(r-t.length).fill(0)))).map(t=>"["+t.join(",")+"]")).join(",")+")",t('[id="'+i+'"]').val(a),t('[id="'+i+'"]').trigger("input")})}}});
